import{r as u,R as t,A as T}from"./api.config-DsnaoXnZ.js";var b=u.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),R=function(r,n,o){var a=o.get(r);return a?a(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function v(e,r){if(e==null)return{};var n={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&(n[a]=e[a]);return n}var w=u.forwardRef(function(e,r){var n=e.alt,o=e.color,a=e.size,s=e.weight,E=e.mirrored,k=e.children,x=e.renderPath,j=v(e,["alt","color","size","weight","mirrored","children","renderPath"]),l=u.useContext(b),d=l.color,h=d===void 0?"currentColor":d,m=l.size,f=l.weight,P=f===void 0?"regular":f,g=l.mirrored,L=g===void 0?!1:g,C=v(l,["color","size","weight","mirrored"]);return t.createElement("svg",Object.assign({ref:r,xmlns:"http://www.w3.org/2000/svg",width:a??m,height:a??m,fill:o??h,viewBox:"0 0 256 256",transform:E||L?"scale(-1, 1)":void 0},C,j),!!n&&t.createElement("title",null,n),k,t.createElement("rect",{width:"256",height:"256",fill:"none"}),x(s??P,o??h))});w.displayName="IconBase";var c=new Map;c.set("bold",function(e){return t.createElement(t.Fragment,null,t.createElement("circle",{cx:"100",cy:"116",r:"16"}),t.createElement("circle",{cx:"156",cy:"116",r:"16"}),t.createElement("path",{d:"M216,216l-29.3-24-29.4,24L128,192,98.7,216,69.3,192,40,216V120a88,88,0,0,1,176,0Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});c.set("duotone",function(e){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,216l-29.3-24-29.4,24L128,192,98.7,216,69.3,192,40,216V120a88,88,0,0,1,176,0Z",opacity:"0.2"}),t.createElement("circle",{cx:"100",cy:"116",r:"12"}),t.createElement("circle",{cx:"156",cy:"116",r:"12"}),t.createElement("path",{d:"M216,216l-29.3-24-29.4,24L128,192,98.7,216,69.3,192,40,216V120a88,88,0,0,1,176,0Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});c.set("fill",function(){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24a96.2,96.2,0,0,0-96,96v96a8.1,8.1,0,0,0,13.1,6.2l24.2-19.9,24.3,19.9a8,8,0,0,0,10.1,0L128,202.3l24.3,19.9a8,8,0,0,0,10.1,0l24.3-19.9,24.2,19.9a7.9,7.9,0,0,0,8.5,1A7.9,7.9,0,0,0,224,216V120A96.2,96.2,0,0,0,128,24ZM100,128a12,12,0,1,1,12-12A12,12,0,0,1,100,128Zm56,0a12,12,0,1,1,12-12A12,12,0,0,1,156,128Z"}))});c.set("light",function(e){return t.createElement(t.Fragment,null,t.createElement("circle",{cx:"100",cy:"116",r:"10"}),t.createElement("circle",{cx:"156",cy:"116",r:"10"}),t.createElement("path",{d:"M216,216l-29.3-24-29.4,24L128,192,98.7,216,69.3,192,40,216V120a88,88,0,0,1,176,0Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});c.set("thin",function(e){return t.createElement(t.Fragment,null,t.createElement("circle",{cx:"100",cy:"116",r:"8"}),t.createElement("circle",{cx:"156",cy:"116",r:"8"}),t.createElement("path",{d:"M216,216l-29.3-24-29.4,24L128,192,98.7,216,69.3,192,40,216V120a88,88,0,0,1,176,0Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});c.set("regular",function(e){return t.createElement(t.Fragment,null,t.createElement("circle",{cx:"100",cy:"116",r:"12"}),t.createElement("circle",{cx:"156",cy:"116",r:"12"}),t.createElement("path",{d:"M216,216l-29.3-24-29.4,24L128,192,98.7,216,69.3,192,40,216V120a88,88,0,0,1,176,0Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var S=function(r,n){return R(r,n,c)},$=u.forwardRef(function(e,r){return t.createElement(w,Object.assign({ref:r},e,{renderPath:S}))});$.displayName="Ghost";const y=T.baseURL.replace(/\/$/,"");async function i(e,r={}){const n=localStorage.getItem("admin_token");if(!n)throw new Error("認証トークンがありません");const o={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${n}`,...r.headers},a=await fetch(`${y}${e}`,{...r,headers:o,mode:"cors",cache:"no-store"});if(a.status===401)throw localStorage.removeItem("admin_token"),localStorage.removeItem("admin_token_expires"),window.location.hash="/login",new Error("認証の有効期限が切れました。再度ログインしてください。");return a}async function p(e,r={}){const n={"Content-Type":"application/json",Accept:"application/json",...r.headers};return await fetch(`${y}${e}`,{...r,headers:n,mode:"cors",cache:"no-store"})}async function F(e){const r=await p("/reservations",{method:"POST",body:JSON.stringify(e)});if(!r.ok){const o=await r.json().catch(()=>({error:"ネットワークエラーが発生しました"}));return console.error("❌ [postReservation] HTTPエラー:",r.status,o),{ok:!1,error:o.error||o.message||`HTTPエラー: ${r.status}`,details:o.details}}const n=await r.json();return console.log("✅ [postReservation] 成功:",n),n}async function O(){return(await p("/reservations/status")).json()}async function I(){try{const e=await i("/reservations");if(!e.ok){const n=await e.json().catch(()=>({error:"ネットワークエラーが発生しました"}));return console.error("❌ [fetchReservations] HTTPエラー:",e.status,n),{ok:!1,error:n.error||n.message||`HTTPエラー: ${e.status}`,details:n.details}}const r=await e.json();return console.log("✅ [fetchReservations] 成功:",r),r}catch(e){return console.error("❌ [fetchReservations] 例外エラー:",e),{ok:!1,error:e.message||"予約データの取得に失敗しました",details:e.stack}}}async function M(e,r){return(await i(`/reservations/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:r})})).json()}async function W(){return(await i("/reservations/current-number")).json()}async function _(e,r){return(await i("/reservations/current-number",{method:"PUT",body:JSON.stringify({currentNumber:e,systemPaused:r})})).json()}async function Z(e){return(await i(`/reservations/${e}`,{method:"DELETE"})).json()}async function z(){return(await i("/reservations/reset-counter",{method:"POST"})).json()}async function N(){return(await i("/reservations/clear-all",{method:"POST"})).json()}export{$ as G,w as I,_ as a,z as b,N as c,Z as d,O as e,I as f,W as g,F as p,R as r,M as u};
