import{c as x,j as e,r as a}from"./index-ByrVnjZE.js";const u="https://obake-uketuke-app-ae91e2b5463a.herokuapp.com/api";function h(){const[t,o]=a.useState(""),[r,l]=a.useState(1);return a.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("ticket")||"";o(i);const n=async()=>{try{const s=await fetch(`${u}/reservations/current-number`,{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});if(s.ok){const d=await s.json();l(d.currentNumber||1)}}catch(s){console.error("現在の番号取得エラー:",s)}};n();const m=setInterval(n,3e3);return()=>clearInterval(m)},[]),e.jsx("div",{className:"min-h-screen bg-[#fff6ef] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center text-3xl mb-6",children:"✓"}),e.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900",children:"整理券発行完了"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"整理券が正常に発行されました！"}),t&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"あなたの整理券番号"}),e.jsxs("div",{className:"text-5xl font-bold text-violet-600 mb-4",children:["#",t]}),e.jsx("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-600",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"現在の呼び出し番号: "}),e.jsxs("span",{className:"font-bold text-violet-700 text-lg",children:["#",r]})]})}),Number(t)-r>0&&e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["あと約 ",e.jsx("span",{className:"font-bold text-violet-600",children:Number(t)-r})," 組お待ちください"]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-700 text-sm font-medium",children:"この画面は受付で使用するため、スクリーンショットをお願いいたします。"})}),e.jsx("button",{onClick:()=>window.location.href="/reservation.html",className:"w-full bg-violet-600 hover:bg-violet-700 text-white py-3 rounded-xl font-medium transition-colors",children:"新しく整理券を発行する"})]})})}const c=document.getElementById("reservation-root");c&&x.createRoot(c).render(e.jsx(h,{}));
